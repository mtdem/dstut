---
title: 'CWRU DSCI351-451: Week 07a MidTermReview'
subtitle: "Profs: R. H. French, L. S. Bruckman, P. Leu, K. Davis, S. Cirlos"
author: "TAs: W. Oltjen, K. Hernandez, M. Li, M. Li, D. Colvin" 
date:  "`r format(Sys.time(), '%d %B, %Y')`"
output: 
  pdf_document:
    latex_engine: xelatex
    toc: TRUE
    number_sections: TRUE
    toc_depth: 6
    highlight: tango
  html_notebook:
  html_document:
    css: ../lab.css
    highlight: pygments
    theme: cerulean
    toc: yes
    toc_depth: 6
    toc_float: yes
    df_print: paged
urlcolor: blue
---
 
 \setcounter{section}{7}
 \setcounter{subsection}{1}
 \setcounter{subsubsection}{1}
 
```{r setup, include = FALSE}
knitr::opts_chunk$set(
  cache = FALSE, # if TRUE knitr will cache results to reuse in future knits
  fig.width = 6, # the width for plots created by code chunk
  fig.height = 4, # the height for plots created by code chunk
  fig.align = 'center', # how to align graphics. 'left', 'right', 'center'
  dpi = 300, 
  dev = 'png', # Makes each fig a png, and avoids plotting every data point
  # eval = FALSE, # if FALSE, then the R code chunks are not evaluated
  # results = 'asis', # knitr passes through results without reformatting
  echo = TRUE, # if FALSE knitr won't display code in chunk above it's results
  message = TRUE, # if FALSE knitr won't display messages generated by code
  strip.white = TRUE, # if FALSE knitr won't remove white spaces at beg or end of code chunk
  warning = TRUE, # if FALSE knitr won't display warning messages in the doc
  error = TRUE) # report errors
  # options(tinytex.verbose = TRUE)
```


#### Class Readings, Assignments, Syllabus Topics

##### Reading, Lab Exercises, SemProjects

  - Readings: 
    - For today: OIS 6.1, 6.2
    - For next class: 
  - Laboratory Exercises: 
    - LE4 : is due Thursday October 20th 
    - LE : 
  - Office Hours: (Class Canvas Calendar for Zoom Link) 
    - Wednesday @ 4:00 PM to 5:00 PM, Will Oltjen
    - Saturday @ 3:00 PM to 4:00 PM, Kristen Hernandez 
    - **Office Hours are on Zoom, and recorded**
  - Semester Projects
    - DSCI 451 Students Biweekly Update 1 Due 
    - DSCI 451 Students 
      - Next Report Out #2 is Due Friday October 28th
    - All DSCI 351/351M/451 Students: 
      - **Peer Grading of Report Out #1 is Due October 11th, 2022**
    - Exams
      - MidTerm: Tuesday October 18th, in class or remote, 11:30 - 12:45 PM
      - Final: Monday December 19, 2022, 12:00PM - 3:00PM, Nord 356 or remote
    
##### Textbooks

- Introduction to R and Data Science

  - For R, Coding, Inferential Statistics
    - Peng: R Programming for Data Science
    - Peng: Exploratory Data Analysis with R

  
Textbooks for this class

  - OIS = Diez, Barr, Çetinkaya-Runde: Open Intro Stat v4
  - R4DS = Wickham, Grolemund: R for Data Science
  
Textbooks for DSCI353/353M/453, And in your Repo now

  - ISLR = James, Witten, Hastie, Tibshirani: Intro to Statistical Learning with R
  - ESL = Trevor Hastie, Tibshirani, Friedman: Elements of Statistical Learning
  - DLwR = Chollet, Allaire: Deep Learning with R

Magazine Articles about Deep Learning

  - DL1 to DL6 are "Deep Learning" articles in 3-readings/2-articles/

##### Tidyverse Cheatsheets, Functions and Reading Your Code

- Look at the Tidyverse Cheatsheet 

  - **Tidyverse For Beginners Cheatsheet**
    - In the Git/20s-dsci353-353m-453-prof/3-readings/3-CheatSheets/ folder
  - **Data Wrangling with dplyr and tidyr Cheatsheet**

  
  Tidyverse Functions & Conventions
  
    - The pipe operator `%>%`
    - Use `dplyr::filter()` to subset data row-wise.
    - Use `dplyr::arrange()`  to sort the observations in a data frame
    - Use `dplyr::mutate()` to update or create new columns of a data frame
    - Use `dplyr::summarize()` to turn many observations into a single data point
    - Use `dplyr::arrange()` to change the ordering of the rows of a data frame 
    - Use `dplyr::select()` to choose variables from a tibble, 
      - keeps only variables you mention
    - Use `dplyr::rename()` keeps all the variables and renames variables
      - rename(iris, petal_length = Petal.Length)
    - These can be combined using `dplyr::group_by()` 
      - which lets you perform operations “by group”. 
    - The `%in%` matches conditions provided by a vector using the c() function
    - The **forcats** package has tidyverse functions 
      - for factors (categorical variables)
    - The **readr** package has tidyverse functions 
      - to read_..., melt_... col_..., parse_... data and objects

Reading Your Code: Whenever you see

  - The assignment operator `<-`, think **"gets"**
  - The pipe operator, `%>%`, think **"then"**
  

##### Syllabus

![DSCI351-351M-451 Syllabus](./figs/syllabus.png)

##### setup for r-code chunks

```{r,echo=TRUE, message=TRUE}
options("digits" = 5)
options("digits.secs" = 3)
library(learningr)
library(tidyverse)
```

#### Midterm

  - Testing Concepts, OpenIntro Stats, and R for Data Science 
  - Your Data Science Tool Chain
  - Open and Reproducible Science
  - Steps in Data Analysis
  - Done as Rmd and Rscripts
  
##### Today: Get your class repo in good shape

  - `git status`
  - `git pull`
  - `git status`
  - `git add --all :/`
  - `git status`
  - `git commit -m 'getting my repo synchronized with bitbucket website'`
  - `git push`
  
##### Make Sure You Have OnDemand/Markov and MyApps/ODS Desktop

  - Setup
  - With a copy of your personal course repo
  - Location for you Git Repo
    - Markov: `/mnt/pan/courses/dsci351-451/CaseID/Git/`
    - ODS Desktop: `H:\Git\`
  
##### Since we are Synch/Asynch/Remote

  - When you start exam, put the time in the top of your exam
    - I'll have a spot to put that
  - Then we will see you time for submission to assignment page
  - You have a total of 1.5 hours to do the exam
  - If you need special arrangements, 
    - Tell Raymond and I in a direct message in DSCI Class Slack

CWRU's Academic Integrity Policy

  - https://bulletin.case.edu/undergraduatestudies/academicintegrity/ 
  
##### Midterm is open book / open resource
  
  - The midterm will be given as an Rmd
  - You will work in the Rmd file
  - Writing and doing Rcode chunks
  - You have the resources of 
    - Your repository
    - R Help
    - Other online resources
  - Open Data Science Approach
    - What can you accomplish
    - Using all available resources
  
##### Midterm Covers 

  - [Roger Peng's R Programming, EDA with R]
  - **R4DS Chapters 1 - 16**
  - **OIS Chapters 1,2,4,5** i.e. Through Foundations of Inference
    - Foundations of Inference (OIS-5)
    - Slides from OIS are in 3-readings\1-Textbooks\2-OpIntStats-slides
  - **Jeff Leek's Structure of a Data Analysis**
    - In class notes: 2108-351-351m-451-w03a-p1-DataAnalyticStyle
    - Also Chap. 14 of Leek's The Elements of Data Analytic Style
      - In 3-readings\1-Textbooks

##### Midterm Does Not Cover OIS Chapters 6 and beyond 

  - Inference for Numerical Data (OIS-6)
  - Inference for Categorical Data (OIS-7)
  
##### Midterm doesn't cover linear modeling

  - Such as Regression
  - Or Classification

##### Topics Covered In Class

  - both Foundations and Practicum topics 

#### Midterm Concepts 

- e. g. Open Data Science, Data Analysis, EDA, Visualization, Inference

  - Git, Rstudio, R, R packages
  - Graphics and Visualization: Base and GGPlot2
  - Data Assembly, Cleaning
  - Exploratory Data Analysis
  - Tidyverse: Pipes, dplyr, mutate etc. 
  - Study Design
  - Distributions, and Central Limit Theorem
  - Sampling and Populations
  - Standard Errors, Confidence Intervals
  - Hypothesis Testing
  - Summary Statistics & Visualization
  - Multivariate pairwise correlation plots
  - Other topics

#### Data Science Tool Chain

##### Openness: 

  - https://en.wikipedia.org/wiki/Openness
  - Free and open source software (FOSS)
    - Open source code and programs
    - https://en.wikipedia.org/wiki/Open-source_model
  - Open datasets
   - https://en.wikipedia.org/wiki/Open_data
  - Open Access 
    - https://en.wikipedia.org/wiki/Open_access

##### R statistics programming language 
  
  - \> 20,000 packages, 

Python

  - Also a good statistical environment
  - not as well developed for stats
  - but better are substantial number crunching

There are many other stats softwares and languages

  - SPSS, SAS, STATA, 
    - But these are not useful for automated analysis
  
##### But Excel, or mousey/mousey programs are not for data science

  - Can not record the sequential processing
    - i.e. the script of your analysis
  - don't lead to reproducible and open science
  - can't distribute code, data and analysis and report

##### IDE (Integrated Development Environment)

  - Comfortable environment for getting going
  - Rstudio for R, 
  - PyCharm or Spyder or Eclipse with PyDev for Python

##### Yet everything can be done at the command line

  - This enables automation 
  - And large scale analysis
  - Using scripting (bash scripting)
  - Simple automation

##### Git Repositories for content versioning

  - Can pursue branches and revert to earlier versions
  - Enables collaboration
  - Robust code review
  - Fork and develop in a community
  - IDEs support Git Versioning
  
##### Markdown languages

  - Enable integrated reports, code, data in repositories
  - RMarkdown2 for R
  - iPython Notebooks for Python
  - And Report can autoupdate with a simple re-compile

Direction towards interactive data science


#### Peng's R Programming (PRP) and Exploratory Data Analysis (EDA)

##### Using R as a calculator

  - Mathematical operations and vectors
  - Assigning variables
  - Special numbers
  - Logical vectors

##### Inspecting variables and your workspace

  - Classes
  - Different types of numbers
  - Other common classes
  - Checking and changing classes
  - Examining variables
  - The workspace

##### Vectors, matrices and Arrays, List \& Dataframes

  - Vectors
  - Matrices \& Arrays
  - Lists
  - Data Frames
  - - Creating Data Frames
  - - Indexing Data Frames
  - - Basic Data Frame Manipulation

##### Environments & Functions

  - Environments
  - Functions
  - - Creating and Calling Functions
  - - Passing Functions to and from Other Functions
  - - Variable Scope
  
##### Strings & Factors

  - Strings
  - - Constructing and Printing Strings
  - - Formatting Numbers
  - - Special Characters
  - - Changing Case
  - - Extracting Substrings
  - - Splitting Strings
  - - File Paths
  - Factors
  - - Creating Factors
  - - Changing Factor Levels
  - - Dropping Factor Levels
  - - Ordered Factors
  - - Converting Continuous Variables to Categorical
  - - Converting Categorical Variables to Continuous
  - - Generating Factor Levels
  - - Combining Factors
 
##### Getting Data

  - Built-in Datasets
  - Reading Text Files
  - - CSV and Tab-Delimited Files
  - - Unstructured Text Files
  - - XML and HTML Files
  - - JSON and YAML Files
  - Reading Binary Files
  - Web Data
  - - Sites with an API
  - - Scraping Web Pages
 
##### Cleaning and Transforming (Tidying)

  - Cleaning Strings
  - Manipulating Data Frames
  - - Adding and Replacing Columns
  - - Dealing with Missing Values
  - - Converting Between Wide and Long Form
  - - Using SQL
  - Sorting
  
##### Exploring and Visualizing (EDA)

  - Summary Statistics
  - The Three Plotting Systems
  - - Take 1: base Graphics
  - - (We Ignore)Take 2: lattice Graphics
  - - Take 3: ggplot2 Graphics
  - Scatterplots
  - Line Plots
  -  Histograms
  -  Box Plots
  - Bar Charts
  - Other Plotting Packages and Systems


##### So in DSCI

  - Your learning coding
  - statistical concepts, tools, and approaches
  - open data science methods
  - open collaboration and learning approaches

#### R for Data Science (R4DS)

- Tidyverse functions

  - Tidy dataframes

##### Writing R scripts and the R console

  - Moving around RStudio  
  - Features of the R console
  - Features of the source editor

##### Viewing and Plotting Data

  - Object Browser
  - Plotting
  - Plotting with Manipulate Package
  
##### Managing R Projects

  - R Projects
  - Version Control with Git
  
##### Generating Reports (Open Data Science)

  - R markdown
  - Code Chunks
  - LaTeX

##### Literate Programming (or Open/Reproducible Data Science)


- Finally, we note that the interweaving of code and text 

  - (often referred to as literate programming) may serve two purposes. 
  - The first is to generate a data analysis report 
    - by executing code to produce the result. 
  - The second is to document the code itself, for example, 
    - by describing the purpose of a function and all its arguments. 
  
The latter purpose will be discussed 
  
  - with the Roxygen2 package for code documentation.


#### What is a Data Analysis

##### Steps in a Data Analysis

  - Define the question
  - Define the ideal data set
  - Determine what data you can access
  - Obtain the data (Open/Available Data first for pilot study)
  - Clean the data
  - Exploratory data analysis
  - Statistical prediction/modeling
  - Interpret results
  - Challenge results
  - Synthesize/write up results
  - Create reproducible code

#### Open Intro Statistics

##### Open Intro Stats: OI-1 Intro to Data, OI-2 Summarizing Data

  - Data basics
  - Overview of data collection principles
  - Observational studies and sampling strategies
  - Experiments
  - Examining numerical data
  - Considering categorical data

##### OI-4 Distributions of Random Variables

  - Normal distribution
  - Evaluating the normal approximation
  - Geometric distribution
  - Binomial distribution
  - BUT NOT the Poisson Distribution
  
##### OI-5 Foundations of Inference 

  - Variability in estimates
  - Confidence intervals
  - Hypothesis intervals
  - Examining the central limit theorem
  - Inference for other estimators
  - Sample size and power
  - Statistical vs. practical significance
  
##### So Things to know 

  - Z values ( # of sd's away from mean)
  - zstar values
  - normal probability plots
  - How to form a hypothesis for hypothesis testing
  - p values
  - Type I and II errors
  - alpha and beta values
  - census vs. sampling
  - observational studies, controlled studies
  - prospective studies and retrospective studies
  - IQRs interquartile ranks
  - SE (standard error of an estimate)
  - SE of the sample mean
  - population values vs. point estimates: mu vs xbar
  - Confidence Intervals, 95% CIs

##### Conditions for $\bar{x}$ ("xbar") being nearly normal and Standard Error (SE) being accurate

- Important conditions to help ensure the sampling distribution of x 

  - is nearly normal and 
  - the estimate of SE sufficiently accurate:

Requires

  - The sample observations are independent.
  - The sample size is large: n = 30 (or n > 30) 
    - is a good rule of thumb.
  - The distribution of sample observations 
    - is not strongly skewed.

Additionally, the larger the sample size

  - the more lenient we can be with the sample’s skew.


#### THE FOLLOWING TOPICS NOT ON MIDTERM: 

  - Probability, OIS Chapter 3
  - Numerical Inference, OIS Chapter 6
  - Categorical Inference, OIS Chapter 7

#### During the MidTerm Exam Class Time 

  - We will have the class Zoom session On
  - So that you can ask any questions

I will `git push` the midterm exam at 11:30 to my Prof Repo

  -  You sync Prof repo with your class repo
    - up on Bitbucket website
  - The `git pull` your class repo
  - Change ...NAME.Rmd to your ...caseID.Rmd
  
##### And Turn In the exam by 12:45 or 1:00 PM

  - Compile to pdf
    - And submit your .Rmd and .pdf
  - If you have a problem compiling
    - Then compile to .html 
    - And submit .Rmd and .html






